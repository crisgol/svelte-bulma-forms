<div class="field is-grouped{horizontal ? ' is-horizontal' : ''}">
  <div class="field-label">
{#if label}
    <FieldLabel {id} {size} {required} {label} />
{/if}
  </div>
  <div class="field-body">
    <slot><!-- input controls go here --></slot>
  </div>
</div>

<script>
import uuid from 'random-uuid-v4'

export default {
  components: {
    FieldLabel: '../fields/FieldLabel.html'
  },
  computed: {
    id: ({ name }) => `${name.toLowerCase()}${uuid()}`
  },
  data () {
    return {
      name: '',
      label: '',
      size: '',
      horizontal: false,
      required: null
    }
  }
}
</script>

<style>

/* Correct flex behavior on mobile */
.field.is-grouped {
  display: block;
}

.field.is-grouped .field-body {
  display: flex;
}

/* Correct label position in vertical layout */
.field-label {
  text-align: left;
  margin-bottom: .5em;
}

@media screen and (min-width: 769px) {
  .is-horizontal :global(.field-label) {
    margin-bottom: 0;
    padding-top: .375em;
    text-align: right;
  }

  .is-horizontal.is-grouped {
    display: flex;
  }
}

.is-grouped .field-body > :global(.control:not(:last-child)) {
  margin-right: .75rem;
}

</style>
